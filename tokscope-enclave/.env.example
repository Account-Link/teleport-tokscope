# ===========================================
# TokScope Enclave Environment Configuration
# ===========================================

# Server Configuration
PORT=3000

# Browser Manager URL
BROWSER_MANAGER_URL=http://browser-manager:3001

# ===========================================
# Xordi Integration (TEE Security)
# ===========================================
# API Key for authenticating Xordi requests
# Must match ENCLAVE_API_KEY in Xordi .env
# Generate with: openssl rand -hex 32
XORDI_API_KEY=your_enclave_api_key_here

# Xordi API URL (for callbacks and database access)
XORDI_API_URL=http://xordi-private-api:3001
XORDI_DB_CONNECTION_STRING=postgresql://xordi:password@xordi-postgres:5432/xordi

# Example for cross-server deployment:
# XORDI_API_URL=https://api.xordi.io
# XORDI_DB_CONNECTION_STRING=postgresql://user:pass@db.xordi.io:5432/xordi

# ===========================================
# Proprietary Module Loading (Security Headers)
# ===========================================
# Web API Module URL (optional)
WEB_AUTH_MODULE_URL=

# Mobile API Module URL (optional)
MOBILE_AUTH_MODULE_URL=

# Module Authentication
MODULE_AUTH_TOKEN=

# ===========================================
# TEE Configuration (Dstack SDK)
# ===========================================
# TEE Encryption Key (AES-256-GCM for cookie encryption)
# In production, this would be derived from Dstack SDK or hardware TEE
# Generate with: openssl rand -base64 32 | head -c 32
TEE_ENCRYPTION_KEY=tee-enclave-key-material-32chars

# Dstack configuration for TEE attestation
DSTACK_SIMULATOR_ENDPOINT=

# ===========================================
# Session Management
# ===========================================
# Session timeout in milliseconds (default: 1 hour)
SESSION_TIMEOUT_MS=3600000

# Auth session timeout in milliseconds (default: 2 minutes)
AUTH_SESSION_TIMEOUT_MS=120000
